/**
 * Iterate over array elements or object props
 *
 * @example
 *
 *   each(['a','b','c'], function(item, index) {
 *     console.log(item, index); // a, 1; b, 2; c, 3
 *   });
 *
 *   each({ name: 'John', age: 35 }, function(value, key) {
 *     console.log(value, key); // John, name; 35, age
 *   });
 */

function each(source, iterator, ctx) {
  ctx = ctx || this;
  if (Array.isArray(source)) {
    source.forEach(iterator, ctx);
  } else {
    for (var key in source) {
      iterator.call(ctx, source[key], key);
    }
  }
}

/**
 * Expose
 */

exports = module.exports = each;